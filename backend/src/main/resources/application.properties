# --- GLOBAL CONFIGURATION ---
quarkus.http.root-path=/api

# --- CORS CONFIGURATION ---
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET, PUT, POST, DELETE, OPTIONS, HEAD
quarkus.http.cors.headers=accept, authorization, content-type, x-requested-with, access-control-request-method, access-control-request-headers
quarkus.http.cors.access-control-max-age=24H

# --- JWT / AUTH CONFIGURATION ---
mp.jwt.verify.issuer=https://hear2speakbalance.clinic/

%dev.smallrye.jwt.sign.key.location=privateKey.pem
%dev.smallrye.jwt.verify.key.location=publicKey.pem

%prod.smallrye.jwt.sign.key.location=/secrets/JWT_PRIVATE_KEY
%prod.smallrye.jwt.verify.key.location=/secrets/JWT_PUBLIC_KEY

# --- SECURITY FIREWALL RULES ---
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=authenticated

quarkus.http.auth.permission.auth.paths=/api/auth/login
quarkus.http.auth.permission.auth.policy=permit

quarkus.http.auth.permission.appointments-create.paths=/api/appointments
quarkus.http.auth.permission.appointments-create.methods=POST
quarkus.http.auth.permission.appointments-create.policy=permit

# --- SMTP CONFIGURATION ---
quarkus.mailer.host=smtp.gmail.com
quarkus.mailer.port=587
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.auth-methods=PLAIN LOGIN
quarkus.mailer.username=hear2speakbalance@gmail.com
quarkus.mailer.password=${EMAIL_PASSWORD}
quarkus.mailer.from=appointments@hear2speakbalance.clinic
quarkus.mailer.bounce-address=appointments@hear2speakbalance.clinic
quarkus.mailer.trust-all=false
%dev.quarkus.mailer.mock=false

# --- CONSTANTS ---
app.constants.appointments.default-duration-in-seconds=1800
app.constants.appointments.default-patient-logged-appointment-status=REQUESTED
app.constants.appointments.default-clinician-logged-appointment-status=SCHEDULED
app.constants.appointments.default-acknowledgement-status=false

app.constants.appointments.allowed-sort-fields=startDateTime,updatedAt,createdAt
app.constants.appointments.default-sort-field=createdAt
app.constants.appointments.default-sort-ascending=false

app.constants.users.jwt-lifetime=3600

app.constants.mailer.contact.phone_1=+91 9620700649
app.constants.mailer.contact.phone_2=+91 8884550923

app.constants.mailer.clinician.email=hear2speakbalance@gmail.com

app.admin.initial-password=admin
app.admin.seeding-enabled=true

# --- DEVELOPMENT PROFILE ---
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:hear2speak;DB_CLOSE_DELAY=-1
%dev.quarkus.datasource.username=admin
%dev.quarkus.datasource.password=admin
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.hibernate-orm.sql-load-script=import.sql

# --- PRODUCTION PROFILE ---
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=${DB_USER}
%prod.quarkus.datasource.password=${DB_PASSWORD}
%prod.quarkus.datasource.jdbc.url=${DB_URL}
%prod.quarkus.hibernate-orm.database.generation=update
%prod.quarkus.hibernate-orm.sql-load-script=no-file

# REQUIRED for Neon (Enforces SSL security)
%prod.quarkus.datasource.jdbc.additional-jdbc-properties.sslmode=require