<div class="dashboard-container">
    <div class="header">
        <h2 class="page-title">Statistics</h2>
        <div class="timestamp">Data live from server</div>
    </div>

    <div class="kpi-grid">
        <app-stat-card 
            label="Total Volume" 
            [value]="totalCount()" 
            icon="library_books"
            color="#3f51b5">
        </app-stat-card>

        <app-stat-card
            label="Today's Appts"
            [value]="todayCount()"
            icon="today"
            color="#4caf50">
        </app-stat-card>

        <app-stat-card
            label="Future Bookings"
            [value]="futureCount()"
            icon="event"
            color="#ff9800">
        </app-stat-card>

        <app-stat-card
            label="Cancellation Rate"
            [value]="cancellationRate()"
            icon="event_busy"
            color="#f44336">
        </app-stat-card>

        <app-stat-card 
            label="Pending Requests" 
            [value]="pendingCount()" 
            icon="pending_actions"
            color="#ff9800">
        </app-stat-card>

        <app-stat-card 
            label="Acknowledged Requests" 
            [value]="acknowledgmentRate()" 
            icon="verified_user"
            color="#009688">
        </app-stat-card>
    </div>

    <div class="charts-grid">
        
        <div class="chart-card">
            <h3>Daily Volume</h3>
            <div class="chart-wrapper">
                <canvas baseChart
                    [data]="volumeChartData()"
                    [options]="barOptions"
                    [type]="'bar'">
                </canvas>
            </div>
        </div>

        <div class="chart-card">
            <h3>Status Breakdown</h3>
            <div class="chart-wrapper">
                <canvas baseChart
                    [data]="statusChartData()"
                    [options]="doughnutOptions"
                    [type]="'doughnut'">
                </canvas>
            </div>
        </div>

    </div>

    <div class="charts-grid">
        
        <div class="chart-card wide">
            <h3>Busiest Hours (Heatmap)</h3>
            <div class="chart-wrapper">
                <canvas baseChart [data]="hourlyChartData()" [options]="barOptions" [type]="'bar'"></canvas>
            </div>
        </div>

    </div>
</div>