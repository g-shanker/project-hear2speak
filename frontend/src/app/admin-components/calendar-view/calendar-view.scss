@use '../../../styles.scss' as *;

:host {
    height: 100%;
    display: block;
}

.calendar-layout {
    height: 100%;
    display: grid;
    grid-template-rows: auto 1fr; // SearchBar | Calendar
    overflow: hidden;
}

.calendar-main {
    position: relative; // Context for absolute positioning
    height: 100%;
    overflow: hidden;   // FullCalendar handles internal scrolling
    // transition: padding-right 0.3s ease; // Smooth transition for the push effect

    &.panel-open {
        padding-right: 420px; // Width of panel + 20px buffer
    }

    ::ng-deep {
        .fc-timegrid-slot { height: $space-xl; }
        .fc-event { padding: $space-xs; cursor: pointer; }
    }
}

.floating-drawer {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;

    width: 400px;
    // width: auto;
    // min-width: $space-xl * 10;
    // max-width: 40%;
    
    background: white;
    z-index: 1000; // Above calendar events
}

.create-panel-wrapper {
    height: 100%;
    display: flex;
    flex-direction: column;

    .panel-header {
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        border-bottom: 1px solid #eee;
        
        h2 { font-size: 1.1rem; margin: 0; }
        
        .close-btn {
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            &:hover { background: #f5f5f5; }
        }
    }

    // Ensure the form scrolls if it's too long
    app-appointment-form {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
    }
}